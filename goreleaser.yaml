version: 1

project_name: groom

builds:
  - id: groom
    binary: groom
    goos:
      - linux
    goarch:
      - amd64
      - arm64
    # Optimization flags
    ldflags:
      - -s -w
      - -X main.CurrentVersion={{.Version}}


# This section generates the debian packages
nfpms:
  - id: pbc-groom-bin
    package_name: pbc-groom-bin
    vendor: "Le Concierge"
    homepage: "https://github.com/etnz/groom"
    maintainer: "Le Concierge <petitbijou.caussade@gmail.com>"
    description: "Groom's Binary"
    license: "BSD"
    formats:
      - deb

# Publish settings
release:
  github:
    owner: etnz
    name: groom
  draft: false
  prerelease: auto # If tag contains 'rc', marks as prerelease